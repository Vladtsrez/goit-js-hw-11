{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import './js/pixabay-api';\n\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst loader = document.querySelector('.loader');\nloader.style.display = 'block';\n\nconst form = document\n  .getElementById('searchForm')\n  .addEventListener('submit', e => {\n    e.preventDefault();\n\n    const input = document.getElementById('searchInput').value.trim();\n\n    if (input === '') {\n      iziToast.warning({\n        title: 'Caution',\n        message: 'Please enter a search query.',\n      });\n      return;\n    }\n\n    const apiKey = '43518191-3e4362bb1fc47484118bdfa22';\n    const url =\n      'https://pixabay.com/api/?key=' +\n      apiKey +\n      '&q=' +\n      encodeURIComponent(input) +\n      '&image_type=photo&orientation=horizontal&safesearch=true';\n\n    const loader = document.querySelector('.loader');\n    loader.style.display = 'block';\n\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        loader.style.display = 'none';\n\n        if (data.hits.length === 0) {\n          iziToast.warning({\n            title: 'Caution',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        } else {\n          const galleryElement = document.querySelector('.gallery');\n          galleryElement.innerHTML = '';\n\n          data.hits.forEach(hit => {\n            addImageCard(hit);\n          });\n\n          lightbox.refresh();\n        }\n      })\n      .catch(error => {\n        console.error('Error', error);\n      });\n  });\n\nfunction addImageCard(image) {\n  const galleryList = document.querySelector('ul.gallery');\n\n  const galleryItem = document.createElement('li');\n  galleryItem.classList.add('gallery-item');\n\n  const galleryLink = document.createElement('a');\n  galleryLink.classList.add('gallery-link');\n  galleryLink.href = image.largeImageURL;\n\n  const galleryImage = document.createElement('img');\n  galleryImage.src = image.webformatURL;\n  galleryImage.alt = image.tags;\n\n  const imageInfo = document.createElement('div');\n  imageInfo.classList.add('image-info');\n  imageInfo.innerHTML = `\n      <p>Likes: ${image.likes}</p>\n      <p>Views: ${image.views}</p>\n      <p>Comments: ${image.comments}</p>\n      <p>Downloads: ${image.downloads}</p>\n  `;\n\n  galleryLink.appendChild(galleryImage);\n  galleryLink.appendChild(imageInfo);\n  galleryItem.appendChild(galleryLink);\n  galleryList.appendChild(galleryItem);\n}\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["loader","e","input","iziToast","url","response","data","galleryElement","hit","addImageCard","lightbox","error","image","galleryList","galleryItem","galleryLink","galleryImage","imageInfo","SimpleLightbox"],"mappings":"6vBAWA,MAAMA,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,QAEV,SACV,eAAe,YAAY,EAC3B,iBAAiB,SAAUC,GAAK,CAC/BA,EAAE,eAAc,EAEhB,MAAMC,EAAQ,SAAS,eAAe,aAAa,EAAE,MAAM,OAE3D,GAAIA,IAAU,GAAI,CAChBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACjB,CAAO,EACD,MACD,CAGD,MAAMC,EACJ,gCAFa,qCAIb,MACA,mBAAmBF,CAAK,EACxB,2DAEIF,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,QAEvB,MAAMI,CAAG,EACN,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CAGZ,GAFAN,EAAO,MAAM,QAAU,OAEnBM,EAAK,KAAK,SAAW,EACvBH,EAAS,QAAQ,CACf,MAAO,UACP,QACE,0EACd,CAAW,MACI,CACL,MAAMI,EAAiB,SAAS,cAAc,UAAU,EACxDA,EAAe,UAAY,GAE3BD,EAAK,KAAK,QAAQE,GAAO,CACvBC,EAAaD,CAAG,CAC5B,CAAW,EAEDE,EAAS,QAAO,CACjB,CACT,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,QAASA,CAAK,CACpC,CAAO,CACP,CAAG,EAEH,SAASF,EAAaG,EAAO,CAC3B,MAAMC,EAAc,SAAS,cAAc,YAAY,EAEjDC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,cAAc,EAExC,MAAMC,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,UAAU,IAAI,cAAc,EACxCA,EAAY,KAAOH,EAAM,cAEzB,MAAMI,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,IAAMJ,EAAM,aACzBI,EAAa,IAAMJ,EAAM,KAEzB,MAAMK,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAU,IAAI,YAAY,EACpCA,EAAU,UAAY;AAAA,kBACNL,EAAM,KAAK;AAAA,kBACXA,EAAM,KAAK;AAAA,qBACRA,EAAM,QAAQ;AAAA,sBACbA,EAAM,SAAS;AAAA,IAGnCG,EAAY,YAAYC,CAAY,EACpCD,EAAY,YAAYE,CAAS,EACjCH,EAAY,YAAYC,CAAW,EACnCF,EAAY,YAAYC,CAAW,CACrC,CAEA,MAAMJ,EAAW,IAAIQ,EAAe,gBAAiB,CACnD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC"}